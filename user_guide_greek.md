# Εγχειρίδιο Χρήσης Σχολικού Chatbot

Αυτό το εγχειρίδιο περιγράφει πώς να χρησιμοποιήσετε τις λειτουργίες του έξυπνου βοηθού (Chatbot) της σχολικής μας μονάδας.

---

## 1. Ξεκινώντας (Επιλογή Ρόλου)
Όταν ξεκινήσετε τη συνομιλία, το Chatbot θα σας ρωτήσει για την ιδιότητά σας:
**"Είστε μαθητής, γονέας ή εκπαιδευτικός;"**

Η απάντησή σας βοηθάει το σύστημα να σας εξυπηρετήσει καλύτερα:
*   **Μαθητής:** Σας κατευθύνει σε υλικό μελέτης και λύσεις ασκήσεων.
*   **Γονέας:** Σας ενημερώνει για θέματα φοίτησης, απουσιών και ανακοινώσεις.
*   **Εκπαιδευτικός:** Σας δίνει πρόσβαση σε εργαλεία διαχείρισης υλικού (εφόσον έχετε συνδεθεί).

---

## 2. Αναζήτηση στην Ιστοσελίδα (ΝΕΟ)
Θέλετε να βρείτε κάτι συγκεκριμένο στην ιστοσελίδα του σχολείου; Απλά ρωτήστε το!

**Παραδείγματα:**
*   *"Ψάχνω για την ανακοίνωση της εκδρομής."*
*   *"Βρες μου άρθρα για τον αγιασμό."*
*   *"Υπάρχει κάτι για τις εγγραφές;"*

Το Chatbot θα ψάξει ζωντανά στο site και θα σας εμφανίσει τα **3 πιο σχετικά άρθρα** με συνδέσμους για να τα διαβάσετε.

> **Smart FAQ:** Ακόμα και αν κάνετε μια γενική ερώτηση (π.χ. "απουσίες"), το σύστημα θα σας δώσει την απάντηση ΚΑΙ θα ψάξει για σχετικές νεότερες ανακοινώσεις.

---

## 3. Υλικό Μελέτης (Links) (ΝΕΟ - Public)
Θέλετε γρήγορη πρόσβαση σε σημειώσεις μαθημάτων;
*   Γράψτε: **"Θέλω υλικό για διάβασμα"** ή απλά **"Διάβασμα"**.
*   Το Chatbot θα σας ρωτήσει για το μάθημα και την τάξη.
*   Θα σας δώσει απευθείας **συνδέσμους (links)** για online βοήθηματα.
*   *Αυτή η λειτουργία είναι ανοιχτή για όλους (και επισκέπτες).*

---

## 3. Οδηγός Ανάρτησης Υλικού (Για Καθηγητές & Διαχειριστές)

Η λειτουργία αυτή επιτρέπει την εισαγωγή νέων ερωτήσεων στην τράπεζα θεμάτων από αρχεία Word.

**Προϋποθέσεις:**
*   Πρέπει να είστε συνδεδεμένος χρήστης (Log In) στην ιστοσελίδα με ρόλο **Administrator** ή **Teacher**.
*   Το αρχείο πρέπει να είναι μορφής `.docx` ή `.pdf`.

**Βήματα:**
1.  Γράψτε τη φράση: **"Ανέβασμα υλικού"**.
2.  Το σύστημα θα ελέγξει τα δικαιώματά σας.
3.  Θα σας ζητήσει το όνομα ή το μονοπάτι του αρχείου (π.χ. `C:/Files/Math_Test.docx` ή απλά το όνομα αν έχει ανέβει στον server).
    *   *Smart Feature:* Αν έχετε αναφέρει το όνομα του αρχείου νωρίτερα στη συζήτηση, το Bot θα το καταλάβει αυτόματα!
4.  Θα ερωτηθείτε για τα μεταδεδομένα (αν δεν εντοπιστούν αυτόματα μέσα στο αρχείο):
    *   **Μάθημα:** (π.χ. Φυσική)
    *   **Τάξη:** (π.χ. Γ Γυμνασίου)
    *   **Δυσκολία:** (π.χ. Μέτριο)
5.  Θα λάβετε μήνυμα επιβεβαίωσης με τον αριθμό των ερωτήσεων που αποθηκεύτηκαν.

---

## 4. Οδηγός Παραγωγής Διαγωνίσματος

Η λειτουργία αυτή δημιουργεί αυτόματα ένα τυχαίο διαγώνισμα σε PDF.

**Προϋποθέσεις:**
*   Πρέπει να είστε συνδεδεμένος χρήστης (Member/Teacher/Student).

**Βήματα:**
1.  Γράψτε τη φράση: **"Δημιούργησε ένα διαγώνισμα"**.
2.  Απαντήστε στις ερωτήσεις του Chatbot (Μάθημα, Τάξη, Δυσκολία, Αριθμός Ερωτήσεων).
3.  Στην ερώτηση **"Θέλετε να συμπεριληφθούν οι απαντήσεις;"**:
    *   Αν πείτε **"Ναι"**, οι απαντήσεις θα φαίνονται με **μπλε χρώμα** ακριβώς κάτω από κάθε ερώτηση (χρήσιμο για αυτο-αξιολόγηση).
    *   Αν πείτε **"Όχι"**, θα βγει καθαρό διαγώνισμα για εξέταση.
4.  Κάντε κλικ στο Link που θα εμφανιστεί για να κατεβάσετε το PDF.

---

## 5. Συχνές Ερωτήσεις & Tips (Αντιμετώπιση Προβλημάτων)

**Τι κάνω αν το Chatbot δεν με καταλαβαίνει;**
Το σύστημα έχει ρυθμιστεί να είναι υπομονετικό:
1.  Αν δεν καταλάβει την ερώτησή σας, θα σας ζητήσει ευγενικά να την επαναλάβετε.
2.  Προσπαθήστε να διατυπώσετε την ερώτηση με διαφορετικά λόγια.
3.  **Προσοχή:** Αν αποτύχει να καταλάβει **3 συνεχόμενες φορές**, θα σας ζητήσει συγνώμη και θα κάνει επανεκκίνηση της συζήτησης για να ξεκολλήσει.

**Χρήσιμες Εντολές:**
*   **"Restart":** Ξεκινάει τη συζήτηση από την αρχή (διαγράφει τη μνήμη της τρέχουσας συνομιλίας).
*   **"Γεια":** Εμφανίζει ξανά τις επιλογές ρόλων.

**Ποιους τύπους αρχείων υποστηρίζει;**
*   Προτείνεται η χρήση **Microsoft Word (.docx)** για καλύτερα αποτελέσματα, καθώς αναγνωρίζει αυτόματα εικόνες, μάθημα και τάξη.
*   Υποστηρίζει και PDF, αλλά με λιγότερες δυνατότητες αυτόματης αναγνώρισης.

---

## 6. Εργαλείο Διαχείρισης Ερωτήσεων (Admin App)

Για τους διαχειριστές και τους καθηγητές, υπάρχει μια ξεχωριστή εφαρμογή για την απευθείας επισκόπηση και διαχείριση της Τράπεζας Θεμάτων.

**Πώς να την ανοίξετε:**
1.  Ανοίξτε το τερματικό.
2.  Τρέξτε την εντολή: `streamlit run admin_app.py`
3.  Η εφαρμογή θα ανοίξει στον browser σας (συνήθως στο `http://localhost:8501`).

**Δυνατότητες:**
*   **Περιήγηση:** Μπορείτε να δείτε ΟΛΕΣ τις ερωτήσεις που έχουν αποθηκευτεί στη βάση δεδομένων.
*   **Φίλτρα:** Στην αριστερή στήλη (Sidebar) μπορείτε να φιλτράρετε τις ερωτήσεις με βάση:
    *   **Μάθημα:** (π.χ. Φυσική, Μαθηματικά)
    *   **Τάξη:** (π.χ. Β Γυμνασίου)
    *   **Δυσκολία:** (π.χ. εύκολο, δύσκολο)
*   **Αναζήτηση:** Υπάρχει πεδίο αναζήτησης κειμένου για να βρείτε συγκεκριμένες λέξεις μέσα στις ερωτήσεις.
*   **Προσθήκη Νέας Ερώτησης:** Μπορείτε να προσθέσετε χειροκίνητα μια ερώτηση, συμπληρώνοντας τα πεδία και ανεβάζοντας προαιρετικά μια εικόνα.

### Χρήση μέσω SSH (Remote Server)

**Βήμα 1: Ανανέωση & Εκκίνηση (Χρειάζεται μόνο την πρώτη φορά)**
Επειδή το Admin App τρέχει πλέον μέσα στο Docker (για να έχει πρόσβαση στη βάση δεδομένων), πρέπει να κάνετε rebuild:

```bash
# 1. Κατεβάστε τις αλλαγές
git pull

# 2. Χτίστε ξανά τα containers (θα πάρει λίγα λεπτά)
sudo docker-compose up -d --build

# 3. Δείτε αν τρέχει το Admin App
sudo docker-compose logs -f admin-app
```

*Σημείωση:* Το Admin App θα ξεκινήσει αυτόματα και θα τρέχει στο port 8501. Δεν χρειάζεται να τρέχετε χειροκίνητα `streamlit run` πλέον.

**Βήμα 2: Σύνδεση από τον υπολογιστή σας**
Για να δείτε την εφαρμογή, πρέπει να κάνετε **SSH Tunneling**.
1.  Ανοίξτε ένα **νέο τερματικό** στον υπολογιστή σας (όχι στον server).
2.  Βρείτε το Username σας στον server τρέχοντας `whoami` στο παράθυρο που είστε ήδη συνδεδεμένοι.
3.  Τρέξτε την εντολή (αντικαταστήστε το `user` με το όνομα που βρήκατε):
    `ssh -L 8501:localhost:8501 user@104.155.53.205`
    
**Βήμα 3: Προβολή**
Ανοίξτε τον browser σας στη διεύθυνση: `http://localhost:8501`.
