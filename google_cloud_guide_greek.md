# ÎŸÎ´Î·Î³ÏŒÏ‚ ÎœÎµÏ„Î±Ï†Î¿ÏÎ¬Ï‚ ÏƒÏ„Î¿ Google Cloud (Deployment)

Î‘ÎºÎ¿Î»Î¿Ï…Î¸Î®ÏƒÏ„Îµ Î±Ï…Ï„Î¬ Ï„Î± Î²Î®Î¼Î±Ï„Î± Î±ÎºÏÎ¹Î²ÏÏ‚ Î³Î¹Î± Î½Î± ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÏ„Îµ Ï„Î¿Î½ Server ÏƒÎ±Ï‚.

---

## ÎœÎ­ÏÎ¿Ï‚ 1: Î‘Î½Î­Î²Î±ÏƒÎ¼Î± ÎºÏÎ´Î¹ÎºÎ± (GitHub Desktop) ğŸ–¥ï¸

Î•Ï€ÎµÎ¹Î´Î® ÎµÎ¯Ï‡Î±Ï„Îµ Î´Ï…ÏƒÎºÎ¿Î»Î¯Î± Î¼Îµ Ï„Î¹Ï‚ ÎµÎ½Ï„Î¿Î»Î­Ï‚, Î¸Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎ¿Ï…Î¼Îµ Ï„Î¿ Î³ÏÎ±Ï†Î¹ÎºÏŒ Ï€ÎµÏÎ¹Î²Î¬Î»Î»Î¿Î½.

1.  Î‘Î½Î¿Î¯Î¾Ï„Îµ Ï„Î¿ **GitHub Desktop**.
2.  Î Î·Î³Î±Î¯Î½ÎµÏ„Îµ: **File** -> **Add Local Repository**.
3.  Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ `C:\RasaFinalProject` ÎºÎ±Î¹ Ï€Î±Ï„Î®ÏƒÏ„Îµ **Add Repository**.
4.  Î˜Î± Î´ÎµÎ¯Ï„Îµ Î¼Î¹Î± Î±Î»Î»Î±Î³Î® "Deployment Update..." (Î® Ï€Î±ÏÏŒÎ¼Î¿Î¹Î¿). Î Î±Ï„Î®ÏƒÏ„Îµ **Commit to main**.
5.  Î Î±Ï„Î®ÏƒÏ„Îµ Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ **Push origin** (Ï€Î¬Î½Ï‰ Î´ÎµÎ¾Î¹Î¬) Î³Î¹Î± Î½Î± Î±Î½Î­Î²ÎµÎ¹ ÏƒÏ„Î¿ Cloud.
    *   *Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·:* Î‘Î½ ÏƒÎ±Ï‚ Î¶Î·Ï„Î®ÏƒÎµÎ¹ ÏŒÎ½Î¿Î¼Î±, Î´ÏÏƒÏ„Îµ `rasa-bot` ÎºÎ±Î¹ Ï€Î±Ï„Î®ÏƒÏ„Îµ Publish. Î’ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ ÏŒÏ„Î¹ Î¾Îµ-Ï„ÏƒÎµÎºÎ¬ÏÎ±Ï„Îµ Ï„Î¿ "Keep this code private" Î±Î½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎµÎ¯Î½Î±Î¹ Î´Î·Î¼ÏŒÏƒÎ¹Î¿.

---

## ÎœÎ­ÏÎ¿Ï‚ 2: Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Server (Google Cloud Console) â˜ï¸

1.  ÎœÏ€ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ **Google Cloud Console**.
2.  Î Î·Î³Î±Î¯Î½ÎµÏ„Îµ: **Compute Engine** -> **VM instances**.
3.  Î’ÏÎµÎ¯Ï„Îµ Ï„Î¿ Î¼Î·Ï‡Î¬Î½Î·Î¼Î± `rasa-server` (IP: `104.155.53.205`).
4.  Î Î±Ï„Î®ÏƒÏ„Îµ Ï„Î¿ ÎºÎ¿Ï…Î¼Ï€Î¯ **SSH** (ÏƒÏ„Î± Î´ÎµÎ¾Î¹Î¬). Î˜Î± Î±Î½Î¿Î¯Î¾ÎµÎ¹ Î­Î½Î± Î¼Î±ÏÏÎ¿ Ï€Î±ÏÎ¬Î¸Ï…ÏÎ¿ ÏƒÏ„Î¿Î½ Browser.

### ÎœÎ­ÏƒÎ± ÏƒÏ„Î¿ Î¼Î±ÏÏÎ¿ Ï€Î±ÏÎ¬Î¸Ï…ÏÎ¿ (SSH):
Î•ÎºÏ„ÎµÎ»Î­ÏƒÏ„Îµ Ï„Î¹Ï‚ Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰ ÎµÎ½Ï„Î¿Î»Î­Ï‚ (Î¼Î¯Î±-Î¼Î¯Î±).

**Î’Î®Î¼Î± 1: ÎœÎµÏ„Î¬Î²Î±ÏƒÎ· ÏƒÏ„Î¿Î½ Î¦Î¬ÎºÎµÎ»Î¿**
```bash
cd rasa-school-chatbot-v2
```
*(Î‘Î½ Î¿ Ï†Î¬ÎºÎµÎ»Î¿Ï‚ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ -Ï€ÏÎ¬Î³Î¼Î± ÏƒÏ€Î¬Î½Î¹Î¿-, Ï„ÏÎ­Î¾Ï„Îµ Ï€ÏÏÏ„Î±: `git clone https://github.com/ignatis5377/rasa-school-chatbot-v2.git`)*

**Î’Î®Î¼Î± 2: ÎšÎ±Ï„Î­Î²Î±ÏƒÎ¼Î± Î‘Î»Î»Î±Î³ÏÎ½**
```bash
git pull
```
*(Î‘Î½ ÎºÎ¿Î»Î»Î®ÏƒÎµÎ¹ ÎºÎ±Î¹ Î¶Î·Ï„Î¬ÎµÎ¹ ÎºÏ‰Î´Î¹ÎºÏŒ, Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ "Î‘Î½Ï„Î¹Î¼ÎµÏ„ÏÏ€Î¹ÏƒÎ· Î ÏÎ¿Î²Î»Î·Î¼Î¬Ï„Ï‰Î½" Ï€Î±ÏÎ±ÎºÎ¬Ï„Ï‰)*

**Î’Î®Î¼Î± 3: Î•Ï€Î±Î½ÎµÎºÎºÎ¯Î½Î·ÏƒÎ· & Build**
Î‘Ï…Ï„ÏŒ Î¸Î± Î¾Î±Î½Î±Ï‡Ï„Î¯ÏƒÎµÎ¹ Ï„Î± containers Î¼Îµ Ï„Î¹Ï‚ Î½Î­ÎµÏ‚ Î²Î¹Î²Î»Î¹Î¿Î¸Î®ÎºÎµÏ‚ ÎºÎ±Î¹ ÏÏ…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚.
```bash
sudo docker-compose down
sudo docker-compose up -d --build --force-recreate
```

> **âš ï¸ Î Î¡ÎŸÎ£ÎŸÎ§Î— Î£Î¤ÎŸ IP:**
> Î ÏÎ¹Î½ Ï„ÏÎ­Î¾ÎµÏ„Îµ Ï„Î¿ `docker-compose up`, ÎµÎ»Î­Î³Î¾Ï„Îµ Î±Î½ Ï„Î¿ External IP Ï„Î¿Ï… server Î­Ï‡ÎµÎ¹ Î±Î»Î»Î¬Î¾ÎµÎ¹ (Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ Google Cloud Console). Î‘Î½ Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Ï€Î¹Î± `104.155.53.205`, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ½Î·Î¼ÎµÏÏÏƒÎµÏ„Îµ Ï„Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ `nginx/conf.d/default.conf`:
> `nano nginx/conf.d/default.conf` (ÎºÎ±Î¹ Î±Î»Î»Î¬Î¾Ï„Îµ Ï„Î¿ IP).

---

## ÎœÎ­ÏÎ¿Ï‚ 3: Î¤ÎµÎ»Î¹ÎºÏŒÏ‚ ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ & Î£ÏÎ½Î´ÎµÏƒÎ· âœ…

1.  Î ÎµÏÎ¹Î¼Î­Î½ÎµÏ„Îµ **5 Î»ÎµÏ€Ï„Î¬** Î½Î± Ï„ÎµÎ»ÎµÎ¹ÏÏƒÎµÎ¹ Ï„Î¿ "Build" ÎºÎ±Î¹ Î½Î± ÏƒÎ·ÎºÏ‰Î¸ÎµÎ¯ Î¿ Rasa Server.
2.  Î‘Î½Î¿Î¯Î¾Ï„Îµ Ï„Î¿ site ÏƒÎ±Ï‚: [https://ignatislask.sites.sch.gr/](https://ignatislask.sites.sch.gr/).
3.  Î•Î»Î­Î³Î¾Ï„Îµ Î±Î½ Ï„Î¿ widget ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÎºÎ±Î¹ Î±Ï€Î±Î½Ï„Î¬ÎµÎ¹.

---

## Î‘Î½Ï„Î¹Î¼ÎµÏ„ÏÏ€Î¹ÏƒÎ· Î ÏÎ¿Î²Î»Î·Î¼Î¬Ï„Ï‰Î½ (Troubleshooting) ğŸ”§

### 1. Î ÏÏŒÎ²Î»Î·Î¼Î± "Permission denied" (PDF/Create Exam)
Î‘Î½ Ï„Î¿ Chatbot Ï€ÎµÎ¹ "Permission denied" ÏŒÏ„Î±Î½ Ï†Ï„Î¹Î¬Ï‡Î½ÎµÎ¹ PDF Î® Î´ÎµÎ½ Î±Ï€Î¿Î¸Î·ÎºÎµÏÎµÎ¹ ÎµÏÏ‰Ï„Î®ÏƒÎµÎ¹Ï‚.
**Î›ÏÏƒÎ·:**
```bash
# Î”Î¯Î½Î¿Ï…Î¼Îµ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± ÏƒÎµ ÎŸÎ›ÎŸÎ¥Î£ Ï„Î¿Ï…Ï‚ ÎºÏÎ¯ÏƒÎ¹Î¼Î¿Ï…Ï‚ Ï†Î±ÎºÎ­Î»Î¿Ï…Ï‚ (Data + Files)
sudo chmod -R 777 data files
```
*Î‘Ï…Ï„ÏŒ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ ÏƒÏ„Î¿Î½ Docker User (1001) Î½Î± Î³ÏÎ¬Ï†ÎµÎ¹ ÏƒÏ„Î· Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½.*

### 2. Î ÏÏŒÎ²Î»Î·Î¼Î± Î£ÏÎ½Î´ÎµÏƒÎ·Ï‚ (Password Authentication)
Î‘Î½ ÏƒÏ„Î¿ `git pull` ÏƒÎ±Ï‚ Î¶Î·Ï„Î¬ÎµÎ¹ Username/Password:
*   **Î›ÏÏƒÎ·:** ÎšÎ¬Î½Ï„Îµ Ï„Î¿ Repository **Public** Î±Ï€ÏŒ Ï„Î± Settings ÏƒÏ„Î¿ GitHub site. ÎˆÏ„ÏƒÎ¹ Î´ÎµÎ½ Î¸Î± Î¶Î·Ï„Î¬ÎµÎ¹ ÎºÏ‰Î´Î¹ÎºÎ¿ÏÏ‚.
*   **Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ¬:** Username = GitHub User, Password = Personal Access Token (ÏŒÏ‡Î¹ Î¿ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ ÏƒÎ±Ï‚).

### 3. Î ÏÏŒÎ²Î»Î·Î¼Î± Docker (KeyError / Version Issue)
Î‘Î½ Î´ÎµÎ¯Ï„Îµ ÏƒÏ†Î¬Î»Î¼Î± `KeyError: 'ContainerConfig'` Î® Ï€Î±Î»Î¹Î¬ Î­ÎºÎ´Î¿ÏƒÎ· Docker.
**Î›ÏÏƒÎ·:**
```bash
sudo curl -SL https://github.com/docker/compose/releases/download/v2.23.3/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose
sudo docker-compose up -d --build
```

### 4. Î ÏÏŒÎ²Î»Î·Î¼Î± SSL (Connection Refused)
Î‘Î½ Ï„Î¿ site Î´ÎµÎ½ Î±Î½Î¿Î¯Î³ÎµÎ¹ (HTTPS Error) Î® Î»Î­ÎµÎ¹ "cannot load certificate".
**Î›ÏÏƒÎ·:**
```bash
# 1. Î£Ï„Î±Î¼Î±Ï„Î¬Î¼Îµ Ï„Î¿Î½ Web Server
sudo docker-compose stop nginx

# 2. Î¤ÏÎ­Ï‡Î¿Ï…Î¼Îµ Ï„Î¿ Certbot Î³Î¹Î± Î±Î½Î±Î½Î­Ï‰ÏƒÎ· (Î’ÎµÎ²Î±Î¹Ï‰Î¸ÎµÎ¯Ï„Îµ Î³Î¹Î± Ï„Î¿ IP!)
sudo docker run -it --rm --name certbot \
  -v "$(pwd)/certbot/conf:/etc/letsencrypt" \
  -v "$(pwd)/certbot/www:/var/www/certbot" \
  -p 80:80 \
  certbot/certbot certonly --standalone -d 104.155.53.205.nip.io

# 3. ÎÎµÎºÎ¹Î½Î¬Î¼Îµ Ï€Î¬Î»Î¹
sudo docker-compose restart nginx
```

### 5. Î ÏÎ¿Î²Î¿Î»Î® Logs (Î“Î¹Î± Errors Ï„Î¿Ï… Chatbot)
Î‘Î½ Ï„Î¿ bot Î±Ï€Î±Î½Ï„Î¬ÎµÎ¹ "Something went wrong", Î´ÎµÎ¯Ï„Îµ Ï„Î¹ Ï†Ï„Î±Î¯ÎµÎ¹ (Ï€.Ï‡. WordPress Error):
```bash
sudo docker-compose logs -f action-server
```
